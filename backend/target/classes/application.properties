server.port=${SERVER_PORT:8080}

# MySQL Database Configuration (XAMPP)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/habit_tracker?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration - Optimized for Production
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false

# Database Connection Pooling Optimization
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.idle-timeout=300000

# H2 Console (disabled - using MySQL)
spring.h2.console.enabled=false

# CORS configuration for production
spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,https://*.netlify.app,https://*.onrender.com}

# JWT Configuration for Phase 1 Authentication
app.jwt.secret=${JWT_SECRET:mySecretKeyForDevelopmentPurposesShouldBeLongEnoughForSecurity}
app.jwt.expiration=${JWT_EXPIRATION:86400000}

# Phase 1 Feature Flags (for gradual rollout)
app.features.authentication.enabled=${AUTH_ENABLED:true}
app.features.categories.enabled=${CATEGORIES_ENABLED:true}
app.features.timer-presets.enabled=${TIMER_PRESETS_ENABLED:true}
app.features.analytics.enabled=${ANALYTICS_ENABLED:true}

# Notification System Configuration
app.notifications.enabled=${NOTIFICATIONS_ENABLED:true}
app.notifications.push.enabled=${PUSH_NOTIFICATIONS_ENABLED:false}
app.notifications.email.enabled=${EMAIL_NOTIFICATIONS_ENABLED:false}
app.notifications.email.from=${EMAIL_FROM:noreply@habittracker.com}
app.notifications.batch.size=${NOTIFICATION_BATCH_SIZE:100}
app.notifications.retry.max-attempts=${NOTIFICATION_RETRY_MAX:3}

# Performance Optimization Settings
app.performance.caching.enabled=${CACHING_ENABLED:true}
app.performance.caching.habits.ttl=${HABITS_CACHE_TTL:300}
app.performance.caching.logs.ttl=${LOGS_CACHE_TTL:60}
app.performance.async.enabled=${ASYNC_PROCESSING_ENABLED:true}
app.performance.async.core-pool-size=${ASYNC_CORE_POOL_SIZE:5}
app.performance.async.max-pool-size=${ASYNC_MAX_POOL_SIZE:10}

# Data Export/Import Settings
app.export.max-file-size=${EXPORT_MAX_FILE_SIZE:10485760}
app.export.batch-size=${EXPORT_BATCH_SIZE:1000}
app.import.validation.enabled=${IMPORT_VALIDATION_ENABLED:true}
app.import.backup.enabled=${IMPORT_BACKUP_ENABLED:true}
